{"ast":null,"code":"import _toConsumableArray from\"/home/tb2/youtube/myprojects/tweetme/tweetme-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/home/tb2/youtube/myprojects/tweetme/tweetme-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{loadTweets}from'../lookup';export function TweetComponent(props){var textAreaRef=React.createRef();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),newTweets=_useState2[0],setNewTweets=_useState2[1];var handleSubmit=function handleSubmit(event){event.preventDefault();var newVal=textAreaRef.current.value;var tempNewTweets=_toConsumableArray(newTweets);tempNewTweets.unshift({content:newVal,likes:0,id:12313});setNewTweets(tempNewTweets);textAreaRef.current.value='';};return/*#__PURE__*/React.createElement(\"div\",{className:props.className},/*#__PURE__*/React.createElement(\"div\",{className:\"col-12 mb-3\"},/*#__PURE__*/React.createElement(\"form\",{onSubmit:handleSubmit},/*#__PURE__*/React.createElement(\"textarea\",{ref:textAreaRef,required:true,className:\"form-control\"}),/*#__PURE__*/React.createElement(\"button\",{type:\"submit\",className:\"btn btn-primary my-3\"},\"Tweet\"))),/*#__PURE__*/React.createElement(TweetList,{newTweets:newTweets}));}export function TweetList(props){var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),tweetsInit=_useState4[0],setTweetsInit=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),tweets=_useState6[0],setTweets=_useState6[1];useEffect(function(){var final=_toConsumableArray(props.newTweets).concat(tweetsInit);if(final.length!==tweets.length){setTweets(final);}},[props.newTweets,tweets,tweetsInit]);useEffect(function(){var myCallback=function myCallback(response,status){if(status===200){setTweetsInit(response);}else{alert(\"There was an error\");}};loadTweets(myCallback);},[tweetsInit]);return tweets.map(function(item,index){return/*#__PURE__*/React.createElement(Tweet,{tweet:item,className:\"my-5 py-5 border bg-white text-dark\",key:\"\".concat(index,\"-{item.id}\")});});}export function ActionBtn(props){var tweet=props.tweet,action=props.action;var _useState7=useState(tweet.likes===true?true:false),_useState8=_slicedToArray(_useState7,2),likes=_useState8[0],setLikes=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),userLike=_useState10[0],setUserLike=_useState10[1];var className=props.className?props.className:'btn btn-primary btn-sm';var actionDisplay=action.display?action.display:'Action';var handleClick=function handleClick(event){event.preventDefault();if(action.type==='like'){if(userLike===true){setLikes(likes-1);setUserLike(false);}else{setUserLike(true);setLikes(likes+1);}}};var display=action.type==='like'?\"\".concat(likes,\" \").concat(actionDisplay):actionDisplay;return/*#__PURE__*/React.createElement(\"button\",{className:className,onClick:handleClick},display);}export function Tweet(props){var tweet=props.tweet;var className=props.className?props.className:'col-10 mx-auto col-md-6';return/*#__PURE__*/React.createElement(\"div\",{className:className},/*#__PURE__*/React.createElement(\"p\",null,tweet.id,\" - \",tweet.content),/*#__PURE__*/React.createElement(\"div\",{className:\"btn btn-group\"},/*#__PURE__*/React.createElement(ActionBtn,{tweet:tweet,action:{type:\"like\",display:\"Likes\"}}),/*#__PURE__*/React.createElement(ActionBtn,{tweet:tweet,action:{type:\"unlike\",display:\"Unlike\"}}),/*#__PURE__*/React.createElement(ActionBtn,{tweet:tweet,action:{type:\"retweet\",display:\"Retweet\"}})));}","map":{"version":3,"sources":["/home/tb2/youtube/myprojects/tweetme/tweetme-web/src/tweets/components.js"],"names":["React","useEffect","useState","loadTweets","TweetComponent","props","textAreaRef","createRef","newTweets","setNewTweets","handleSubmit","event","preventDefault","newVal","current","value","tempNewTweets","unshift","content","likes","id","className","TweetList","tweetsInit","setTweetsInit","tweets","setTweets","final","concat","length","myCallback","response","status","alert","map","item","index","ActionBtn","tweet","action","setLikes","userLike","setUserLike","actionDisplay","display","handleClick","type","Tweet"],"mappings":"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","sourcesContent":["import React , {useEffect,useState} from 'react'\n\nimport {loadTweets} from '../lookup'\n\nexport function TweetComponent(props){\n  const textAreaRef = React.createRef()\n  const [newTweets , setNewTweets] = useState([])\n  const handleSubmit = (event) =>{\n    event.preventDefault()\n    const newVal = textAreaRef.current.value\n    let tempNewTweets = [...newTweets]\n    tempNewTweets.unshift({\n      content : newVal,\n      likes : 0,\n      id : 12313\n    })\n    setNewTweets(tempNewTweets)\n    textAreaRef.current.value = ''\n  }\n  return <div className = {props.className}>\n    <div className = 'col-12 mb-3'>\n  <form onSubmit={handleSubmit}>\n    <textarea ref = {textAreaRef} required = {true} className='form-control'></textarea>\n    <button type='submit' className='btn btn-primary my-3'>Tweet</button>\n</form>\n</div>\n<TweetList newTweets = {newTweets}/>\n   </div>\n}\n\nexport function TweetList(props){\n  const [tweetsInit,setTweetsInit] = useState([])\n  const [tweets , setTweets] = useState([])\n  useEffect(() =>{\n    const final = [...props.newTweets].concat(tweetsInit)\n    if(final.length !== tweets.length) {\n         setTweets(final)\n    }\n  },[props.newTweets , tweets , tweetsInit])\n  useEffect(() => {\n    const myCallback = (response,status) => {\n      if(status === 200){\n        setTweetsInit(response)\n      }\n      else{\n        alert(\"There was an error\")\n      }\n    }\n    loadTweets(myCallback)\n  },[tweetsInit])\n  return tweets.map((item,index) => {\n      return <Tweet tweet = {item} className = 'my-5 py-5 border bg-white text-dark' key = {`${index}-{item.id}`}/>\n    })\n}\n\n\nexport function ActionBtn(props){\n  const {tweet,action} = props\n  const [likes,setLikes] = useState(tweet.likes === true ? true : false)\n  const [userLike , setUserLike] = useState(false)\n  const className = props.className ? props.className : 'btn btn-primary btn-sm'\n  const actionDisplay = action.display ? action.display : 'Action'\n  const handleClick = (event) =>{\n      event.preventDefault()\n      if(action.type === 'like'){\n          if(userLike === true){\n              setLikes(likes-1)\n              setUserLike(false)\n          }\n          else{\n              setUserLike(true)\n              setLikes(likes+1)\n          }\n      }\n  }\n  const display = action.type === 'like' ? `${likes} ${actionDisplay}` : actionDisplay\n  return <button className = {className} onClick = {handleClick}>{display}</button>\n}\n\nexport function Tweet(props) {\n  const {tweet} = props\n  const className = props.className ? props.className : 'col-10 mx-auto col-md-6'\n  return <div className = {className}>\n    <p>{tweet.id} - {tweet.content}</p>\n    <div className = 'btn btn-group'>\n      <ActionBtn tweet = {tweet} action = {{type : \"like\" , display : \"Likes\"}} />\n      <ActionBtn tweet = {tweet} action = {{type : \"unlike\" , display : \"Unlike\"}} />\n      <ActionBtn tweet = {tweet} action = {{type : \"retweet\" , display : \"Retweet\"}} />\n\n    </div>\n  </div>\n}"]},"metadata":{},"sourceType":"module"}