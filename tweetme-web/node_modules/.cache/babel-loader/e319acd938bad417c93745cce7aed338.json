{"ast":null,"code":"import _wrapRegExp from\"/home/tb2/youtube/myprojects/tweetme/tweetme-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/wrapRegExp\";import _slicedToArray from\"/home/tb2/youtube/myprojects/tweetme/tweetme-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{ActionBtn}from'./buttons';export function ParentTweet(props){var tweet=props.tweet;return tweet.parent?/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-11 mx-auto p-3 border rounded\"},/*#__PURE__*/React.createElement(\"p\",{className:\"mb-0 text-muted small\"},\"Retweet\"),/*#__PURE__*/React.createElement(Tweet,{hideActions:true,className:' ',tweet:tweet.parent}))):null;}export function Tweet(props){var tweet=props.tweet,didRetweet=props.didRetweet,hideActions=props.hideActions;var _useState=useState(props.tweet?props.tweet:null),_useState2=_slicedToArray(_useState,2),actionTweet=_useState2[0],setActionTweet=_useState2[1];var className=props.className?props.className:'col-10 mx-auto col-md-6';var path=window.location.pathname;var match=path.match(/*#__PURE__*/_wrapRegExp(/([0-9]+)/,{tweetid:1}));var urlTweetId=match?match.groups.tweetid:-1;var isDetail=\"\".concat(tweet.id)===\"\".concat(urlTweetId);var handleLink=function handleLink(event){event.preventDefault();window.location.href=\"/\".concat(tweet.id);};var handlePerformAction=function handlePerformAction(newActionTweet,status){if(status===200){setActionTweet(newActionTweet);}else if(status===201){didRetweet(newActionTweet);}};return/*#__PURE__*/React.createElement(\"div\",{className:className},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"p\",null,tweet.id,\" - \",tweet.content),/*#__PURE__*/React.createElement(ParentTweet,{tweet:tweet})),/*#__PURE__*/React.createElement(\"div\",{className:\"btn btn-group\"},actionTweet&&hideActions!==true&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(ActionBtn,{tweet:actionTweet,didPerformAction:handlePerformAction,action:{type:\"like\",display:\"Likes\"}}),/*#__PURE__*/React.createElement(ActionBtn,{tweet:actionTweet,didPerformAction:handlePerformAction,action:{type:\"unlike\",display:\"Unlike\"}}),/*#__PURE__*/React.createElement(ActionBtn,{tweet:actionTweet,didPerformAction:handlePerformAction,action:{type:\"retweet\",display:\"\"}})),isDetail===true?null:/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-outline-primary btn-sm\",onClick:handleLink},\"View\")));}","map":{"version":3,"sources":["/home/tb2/youtube/myprojects/tweetme/tweetme-web/src/tweets/detail.js"],"names":["React","useState","ActionBtn","ParentTweet","props","tweet","parent","Tweet","didRetweet","hideActions","actionTweet","setActionTweet","className","path","window","location","pathname","match","urlTweetId","groups","tweetid","isDetail","id","handleLink","event","preventDefault","href","handlePerformAction","newActionTweet","status","content","type","display"],"mappings":"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","sourcesContent":["import React, { useState} from 'react'\n\nimport {ActionBtn} from './buttons'\n\nexport function ParentTweet(props){\n        const {tweet} = props\n        return tweet.parent ? <div className = 'row'>\n                <div className = 'col-11 mx-auto p-3 border rounded'>\n                  <p className = 'mb-0 text-muted small'>Retweet</p>\n                  <Tweet hideActions className = {' '} tweet = {tweet.parent}/>\n                  </div>\n                  </div> : null\n}\n\nexport function Tweet(props) {\n    const {tweet,didRetweet,hideActions} = props\n    const [actionTweet , setActionTweet] = useState(props.tweet ? props.tweet : null)\n    const className = props.className\n        ? props.className\n        : 'col-10 mx-auto col-md-6'\n    const path = window.location.pathname\n    const match = path.match(/(?<tweetid>\\d+)/)\n    const urlTweetId = match ? match.groups.tweetid : -1\n    const isDetail = `${tweet.id}` === `${urlTweetId}` \n    const handleLink = (event) =>{\n        event.preventDefault()\n        window.location.href = `/${tweet.id}`\n    }\n    const handlePerformAction = (newActionTweet,status) =>{\n        if(status === 200){\n            setActionTweet(newActionTweet)\n        }else if(status === 201){\n            didRetweet(newActionTweet)  \n        }\n    }\n    \n    return <div className={className}>\n\n        <div>\n        <p>{tweet.id} - {tweet.content}</p>\n              <ParentTweet tweet = {tweet} />\n        </div>\n       <div className='btn btn-group'>\n           {(actionTweet && hideActions !== true) && <React.Fragment>\n            <ActionBtn\n                tweet={actionTweet} didPerformAction = {handlePerformAction}\n                action={{\n                    type: \"like\",\n                    display: \"Likes\"\n                }}/>\n            <ActionBtn\n                tweet={actionTweet} didPerformAction = {handlePerformAction}\n                action={{\n                    type: \"unlike\",\n                    display: \"Unlike\"\n                }}/>\n            <ActionBtn\n                tweet={actionTweet} didPerformAction = {handlePerformAction}\n                action={{\n                    type: \"retweet\",\n                    display: \"\"\n                }}/>\n            </React.Fragment>\n}\n            {isDetail === true ? null :<button className = 'btn btn-outline-primary btn-sm' onClick = {handleLink}>View</button> }\n        </div>\n\n    </div>\n}"]},"metadata":{},"sourceType":"module"}